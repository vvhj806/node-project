<div class="d-flex flex-column flex-root app-root" id="kt_app_root">
	<div class="app-page flex-column flex-column-fluid" id="kt_app_page">
		<%- include(theme.getLayoutPath("partials/sidebar-layout/_header.ejs")); %>
        <div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
            <%- include(theme.getLayoutPath("partials/sidebar-layout/_sidebar.ejs")); %>
            <div class="app-main flex-column flex-row-fluid" id="kt_app_main">
                <!--begin::Content wrapper-->
                <div class="d-flex flex-column flex-column-fluid">                    
                    <div id="kt_app_content" class="app-content flex-column-fluid">
                        <div id="kt_app_content_container" class="app-container container-fluid mg_t_30">

                            <div class="d-flex flex-column flex-column-fluid">
                                <!--begin::Header-->
                                <div id="kt_app_toolbar" class="app-toolbar  py-3 py-lg-6 ">
                                    <div id="kt_app_toolbar_container" class="app-container  container-xxl d-flex flex-stack ">
                                        <div class="page-title d-flex flex-column justify-content-center flex-wrap me-3 ">
                                            <h1 class="page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0">메뉴 관리</h1>
                            
                                            <ul class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
                                                <li class="breadcrumb-item text-muted">메뉴</li>
                                                <li class="breadcrumb-item"><span class="bullet bg-gray-400 w-5px h-2px"></span></li>
                                                <li class="breadcrumb-item text-muted">메뉴 관리 </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <!--end::Header-->                                        
                                                

                                <!--begin::Content-->
                                <div id="kt_app_content" class="app-content  flex-column-fluid ">
                                    <div id="kt_app_content_container" class="app-container container-xxl">
                                        <div class="card padding_20">
                                            <div class="card-body p-0 manage_menu_flex">
                                                <div style="width: 70%;">
                                                    <h1 class="page-heading d-flex text-dark fw-bold fs-3 flex-column my-0">메뉴리스트</h1>

                                                    <div class="card h-xl-100">
                                                        <div class="card-header border-0 pt-5">
                                                            <h3 class="card-title align-items-start flex-column">
                                                                <!-- <span class="card-label fw-bold text-dark">메뉴 리스트</span> -->
                                                                <span class="text-muted mt-1 fw-semibold fs-7">현재 추가되어 있는 메뉴입니다.</span>
                                                            </h3>
                                                    
                                                            <div class="card-toolbar">   
                                                                <div class="btn btn-sm btn-light" id="add_menu">+ 메뉴추가</div>             
                                                            </div>
                                                        </div>
                                                    
                                                        <!--begin::Menu list-->
                                                        <div class="card-body pt-6">

                                                            <% data.menuList.forEach((item, index) => { %>
                                                                <div class="d-flex flex-stack">  
                                                                    <div class="symbol symbol-35px me-4">
                                                                        <% if(item.use_yn == 'y') { %>
                                                                            <div class="symbol-label fw-semibold bg-success text-inverse-success">ON</div>
                                                                        <% } else { %>
                                                                            <div class="symbol-label fw-semibold bg-danger text-inverse-danger">OFF</div>
                                                                        <% } %>
                                                                    </div>
                                                        
                                                                    <div class="d-flex align-items-center flex-row-fluid flex-wrap">
                                                                        <div class="flex-grow-1 me-2">
                                                                            <div class="text-gray-800 fs-6 fw-bold"><%=item.menu_nm%></div>
                                                                            <span class="text-muted fw-semibold d-block fs-7"><%=item.menu_nm%></span>
                                                                        </div>
                                                                        
                                                                        <div class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px mg_r_5">수정</div>
                                                                        <div class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px">삭제</div>
                                                                    </div>
                                                                </div>
                                                        
                                                                <div class="separator separator-dashed my-4"></div>
                                                            <% }); %>

                                                            <!--    
                                                            <div class="d-flex flex-stack">  
                                                                <div class="symbol symbol-40px me-4">
                                                                    <div class="symbol-label fs-2 fw-semibold bg-info text-inverse-info">W</div>
                                                                </div>
                                                    
                                                                <div class="d-flex align-items-center flex-row-fluid flex-wrap">
                                                                    <div class="flex-grow-1 me-2">
                                                                        <a href="/metronic8/demo1/../demo1/pages/user-profile/overview.html" class="text-gray-800 text-hover-primary fs-6 fw-bold">다이닝</a>
                                                                        
                                                                        <span class="text-muted fw-semibold d-block fs-7">다이닝</span>
                                                                    </div>
                                                                    
                                                                    <a href="#" class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px">
                                                                        <i class="ki-duotone ki-arrow-right fs-2">
                                                                            <span class="path1"></span>
                                                                            <span class="path2"></span>
                                                                        </i>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                    
                                                            <div class="separator separator-dashed my-4"></div>
                                                                        
                                                            <div class="d-flex flex-stack">  
                                                                <div class="symbol symbol-40px me-4">
                                                                    <div class="symbol-label fs-2 fw-semibold bg-primary text-inverse-primary">M</div>
                                                                </div>
                                                    
                                                                <div class="d-flex align-items-center flex-row-fluid flex-wrap">
                                                                    <div class="flex-grow-1 me-2">
                                                                        <a href="/metronic8/demo1/../demo1/pages/user-profile/overview.html" class="text-gray-800 text-hover-primary fs-6 fw-bold">부대시설</a>
                                                                        
                                                                        <span class="text-muted fw-semibold d-block fs-7">부대시설</span>
                                                                    </div>
                                                                    
                                                                    <a href="#" class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px">
                                                                        <i class="ki-duotone ki-arrow-right fs-2">
                                                                            <span class="path1"></span>
                                                                            <span class="path2"></span>
                                                                        </i>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                    
                                                            <div class="separator separator-dashed my-4"></div>
                                                                        
                                                            <div class="d-flex flex-stack">  
                                                                <div class="symbol symbol-40px me-4">
                                                                    <div class="symbol-label fs-2 fw-semibold bg-dark text-inverse-dark">M</div>
                                                                </div>
                                                    
                                                                <div class="d-flex align-items-center flex-row-fluid flex-wrap">
                                                                    <div class="flex-grow-1 me-2">
                                                                        <a href="/metronic8/demo1/../demo1/pages/user-profile/overview.html" class="text-gray-800 text-hover-primary fs-6 fw-bold">Mathematics</a>
                                                                        
                                                                        <span class="text-muted fw-semibold d-block fs-7">24+ Courses</span>
                                                                    </div>
                                                                    
                                                                    <a href="#" class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px">
                                                                        <i class="ki-duotone ki-arrow-right fs-2">
                                                                            <span class="path1"></span>
                                                                            <span class="path2"></span>
                                                                        </i>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                             -->

                                                        </div>
                                                        <!--end::Menu list-->
                                                    </div>
                                                </div>

                                                <div class="col-xl-4 mb-xl-10" style="width: 30%;">       
                                                    <div class="card card-flush h-xl-100">   
                                                        <div class="card-header rounded bgi-no-repeat bgi-size-cover bgi-position-y-top bgi-position-x-center align-items-start h-250px" style="background-image:url('/assets/media/svg/shapes/top-green.png" data-bs-theme="light">
                                                            <h3 class="card-title align-items-start flex-column text-white pt-15">
                                                                <span class="fw-bold fs-2x mb-3">메뉴</span>
                                                                
                                                                <div class="fs-4 text-white">
                                                                    <span class="opacity-75">미리보기</span>
                                                                </div>    
                                                            </h3>
                                                        </div>
                                                    
                                                        <div class="card-body mt-n20">
                                                            <div class="mt-n20 position-relative">
                                                                <div class="row g-3 g-lg-6">
                                                                    <div class="col-6">
                                                                        <div class="bg-gray-100 bg-opacity-70 rounded-2 px-6 py-5">
                                                                            <div class="symbol symbol-30px me-5 mb-8">
                                                                                <span class="symbol-label">  
                                                                                    <i class="ki-duotone ki-flask fs-1 text-primary">
                                                                                        <span class="path1"></span>
                                                                                        <span class="path2"></span>
                                                                                    </i>                             
                                                                                </span>                
                                                                            </div>
                                                
                                                                            <div class="m-0">
                                                                                <span class="text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 mb-1">서비스</span>
                                                                                <span class="text-gray-500 fw-semibold fs-6">서비스</span>
                                                                            </div>
                                                                        </div>    
                                                                    </div>    
                                                
                                                                    <div class="col-6">
                                                                        <div class="bg-gray-100 bg-opacity-70 rounded-2 px-6 py-5">
                                                                            <div class="symbol symbol-30px me-5 mb-8">
                                                                                <span class="symbol-label">  
                                                                                    <i class="ki-duotone ki-bank fs-1 text-primary">
                                                                                        <span class="path1"></span>
                                                                                        <span class="path2"></span>
                                                                                    </i>                             
                                                                                </span>                
                                                                            </div>
                                                
                                                                            <div class="m-0">
                                                                                <span class="text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 mb-1">어메니티</span>
                                                                                <span class="text-gray-500 fw-semibold fs-6">어메니티</span>
                                                                            </div>
                                                                        </div>    
                                                                    </div>    
                                                
                                                                    <div class="col-6">
                                                                        <div class="bg-gray-100 bg-opacity-70 rounded-2 px-6 py-5">
                                                                            <div class="symbol symbol-30px me-5 mb-8">
                                                                                <span class="symbol-label">  
                                                                                    <i class="ki-duotone ki-award fs-1 text-primary"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i>                             
                                                                                </span>                
                                                                            </div>
                                                
                                                                            <div class="m-0">
                                                                                <span class="text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 mb-1">다이닝</span>
                                                                                <span class="text-gray-500 fw-semibold fs-6">다이닝</span>
                                                                            </div>
                                                                        </div>    
                                                                    </div>    
                                                
                                                                    <div class="col-6">
                                                                        <div class="bg-gray-100 bg-opacity-70 rounded-2 px-6 py-5">
                                                                            <div class="symbol symbol-30px me-5 mb-8">
                                                                                <span class="symbol-label">  
                                                                                    <i class="ki-duotone ki-timer fs-1 text-primary">
                                                                                        <span class="path1"></span>
                                                                                        <span class="path2"></span>
                                                                                        <span class="path3"></span>
                                                                                    </i>                             
                                                                                </span>                
                                                                            </div>
                                                
                                                                            <div class="m-0">
                                                                                <span class="text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 mb-1">부대시설</span>
                                                                                <span class="text-gray-500 fw-semibold fs-6">부대시설</span>
                                                                            </div>
                                                                        </div>    
                                                                    </div>    
                                                                </div>
                                                            </div> 
                                                        </div>    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--end::Content-->					
                            </div>
                        </div>
                    </div>

                    <%#- include(theme.getLayoutPath("partials/sidebar-layout/_content.ejs")); %>
                </div>
                <!--end::Content wrapper-->
                <%- include(theme.getLayoutPath("partials/sidebar-layout/_footer.ejs")); %>
            </div>
        </div>
	</div>
</div>

<%- include(theme.getPartialPath("partials/_drawers.ejs")); %>

<script type="text/javascript" src="/node_modules/jquery/dist/jquery.js"></script>

<script>
$('#add_menu').on('click', function() {
    const swalWithBootstrapButtons = Swal.mixin({
        customClass: {
            confirmButton: 'btn btn-success',
            cancelButton: 'btn btn-danger'
        },
        buttonsStyling: false
    });

    swalWithBootstrapButtons.fire({
        title: '<div class="b">메뉴 추가</div>',
        html: `
            <div>추가할 메뉴명을 입력해주세요!</div>
            <input id="new_menu_name" class="swal2-input" placeholder="메뉴명을 입력해주세요.">

            <div class="mg_t_10 menu_isused_wrap">
                <span>사용여부</span>
                <span class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="menu_use_toggle" checked>
                    <span id="toggle_text">ON</span>
                </span>
            </div>
        `,
        showCancelButton: true,
        confirmButtonText: '확인',
        cancelButtonText: '닫기',
        reverseButtons: true
    }).then((result) => {
        if (result.isConfirmed) {
            const menuName = $('#new_menu_name').val();
            const menuIsUsed = $('#menu_use_toggle').prop('checked');

            console.log(menuName);
            console.log(menuIsUsed);

            // axios로 DB에 저장하기

            swalWithBootstrapButtons.fire(
                '추가되었습니다!',
                '',
                'success'
            )
        }
    });

    $('#menu_use_toggle').on('change', function() {
        var isChecked = $(this).prop('checked');
        var text = isChecked ? 'On' : 'Off';
        $('#toggle_text').text(text);
    });
});

</script>
